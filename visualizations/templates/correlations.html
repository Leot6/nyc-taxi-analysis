<!DOCTYPE html>
<html>
    <head>
        <title>Interactive Taxi Demand</title>
        <meta name="viewport" content="initial-scale=1.0">
        <meta charset="utf-8">
        <style>
            html, body {
                height: 100%;
                margin: 0;
                padding: 0;
            }
            #map {
                height: 70%;
            }
            #graph {
                height: 30%;
            }
            #panel {
                position: absolute;
                top: 5px;
                left: 50%;
                width: 500px;
                margin-left: -180px;
                z-index: 5;
                background-color: #fff;
                padding: 5px;
                border: 1px solid #999;
            }

            .largeSlider {
                width:500px;
            }
        /* Start by setting display:none to make this hidden.
        Then we position it in relation to the viewport window
        with position:fixed. Width, height, top and left speak
        for themselves. Background we set to 80% white with
        our animation centered, and no-repeating */
        .modal {
            display:    none;
            position:   fixed;
            z-index:    1000;
            top:        0;
            left:       0;
            height:     100%;
            width:      100%;
            background: rgba( 255, 255, 255, .8 ) 
                        url('http://i.stack.imgur.com/FhHRx.gif') 
                        50% 50% 
                        no-repeat;
        }

        /* When the body has the loading class, we turn
        the scrollbar off with overflow:hidden */
        #graph.loading {
            overflow: hidden;   
        }

        /* Anytime the body has the loading class, our
        modal element will be visible */
        #graph.loading .modal {
            display: block;
        }
        </style>
    <script src="https://code.jquery.com/jquery-3.1.0.min.js" 
            integrity="sha256-cCueBR6CsyA4/9szpPfrX3s49M9vUU5BgtiJj06wt/s="
            crossorigin="anonymous">
    </script>
    <script src="https://d3js.org/d3.v4.min.js"></script>
    <script src="js/cors.js"></script>
    <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
    </head>
    <body>
        <div id="map"></div>
        <div id="graph">
            {% autoescape false %}
            {{ graph }}
            {% endautoescape %}
        </div>
        <script src="https://maps.googleapis.com/maps/api/js?callback=initMap&key=AIzaSyDwUQmqTBa6V_FHDfdNfG4SJvVHEpPb4uw"
                async defer>
        </script>
    </body>
</html>
